<!DOCTYPE html>

<!-- This tells Thymeleaf that this is in fact a Thymeleaf Template -->
<html xmlns:th="https://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<!-- BOOTSTRAP 5 -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
	crossorigin="anonymous"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<title>Auto Dealer >> Used Inventory</title>

<script>
			$(document).ready(function(){$('[data-bs-toggle="popover"]').popover({html:true});});
		</script>

</head>

<body style="background-color: #f8f9fa">
	<!-- BOOTSTRAP NAVIGATION COMPONENTS -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">

		<a class="navbar-brand" href="/index"
			style="text-transform: uppercase; letter-spacing: 3px; font-weight: 600; padding-left: 10px;">Auto
			Dealer</a>

		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarNav" aria-controls="navbarNav"
			aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item"><a class="nav-link" href="/new">New
						Inventory</a></li>
				<li class="nav-item"><a class="nav-link" href="/used">Used
						Inventory</a></li>
				<li class="nav-item"><a class="nav-link" href="#">Search</a></li>
				<li class="nav-item"><a class="nav-link" href="/reports">Reports</a>
				</li>
				<li class="nav-item"><a class="nav-link" href="/addvehicle">Add
						Vehicle</a></li>
			</ul>
		</div>
	</nav>

	<br>
	<br>

	<!-- VEHICLE LISTINGS AS CARD GALLERY -->
	<div class="album py-4 bg-light">
		<div class="container" style="padding: 0px;">
			<div class="row">
				<div class="col-md-4" th:each="vehicle : ${inventory}">

					<!-- INDIVIDUAL CARD VARIABLES AND STYLIZATION -->
					<div class="card mb-4 box-shadow" id="card-sizing">
						<div class="card-flag"
							style="position: absolute; left: 5px; top: -3px; color: rgb(255, 255, 255); font-weight: 600;"
							th:text="${vehicle.condition} ? 'USED' : 'NEW'"></div>
						<img class="card-img-top" alt="Image Missing..."
							style="height: 225px; width: 100%; display: block; object-fit: cover;"
							th:src="${vehicle.photoLocation}" data-holder-rendered="true" />
						<div class="card-body" style="position: relative; padding: 5px;">
							<h5 class="card-title">
								<span th:text="${vehicle.year}"></span> - <span
									th:text="${vehicle.manufacturer}"></span> <span
									th:text="${vehicle.type}"></span>
							</h5>

							<p class="card-text" style="position: relative; top: -10px;">
								Mileage: <span th:text="${vehicle.mileage}"></span><br>
								Price: $<span th:text="${vehicle.price}"></span>
							</p>

							<div class="d-flex justify-content-between align-items-center">

								<div style="position: relative; width: 100px;">
									<button class="btn btn-primary btn-sm" style="width: 100px;"
										type="button" data-bs-trigger="focus" data-bs-toggle="popover"
										th:title="'<strong>' + ${vehicle.year} + ' ' + ${vehicle.manufacturer} + ' ' + ${vehicle.type} + '</strong>'"
										data-html="true"
										th:attr="data-bs-content='<strong>Trim: </strong>' + ${vehicle.trim} +
																	 '<br><strong>Condition: </strong>' + ${vehicle.condition} + 
																     '<br><strong>Mileage: </strong>' + ${vehicle.mileage} + 
																	 '<br><strong>Exterior: </strong>' + ${vehicle.exterior} +
																	 '<br><strong>Interior: </strong>' + ${vehicle.interior} + 
																	 '<br><strong>Drivetrain: </strong>' + ${vehicle.drivetrain} +
																	 '<br><strong>Price: </strong>$' + ${vehicle.price} +
																	 '<br><strong>Date Acquired: </strong>' + ${vehicle.acquired} +
																	 '<br><br><strong>Details: </strong>' + ${vehicle.details}">Details</button>

									<div style="height: 5px;"></div>

									<span th:if="${vehicle.auctionDate < 120}">
										<button class="btn btn-success btn-sm" style="width: 100px;"
											type="button">Buy</button>
									</span> <span th:if="${vehicle.auctionDate >= 120}">
										<button class="btn btn-danger btn-sm" style="width: 100px;"
											type="button">Bid</button>
									</span>
								</div>

								<small class="text-muted"
									style="position: absolute; bottom: 0px; right: 5px; float: right;">Days
									Listed: <span th:text="${vehicle.auctionDate}"></span>
								</small>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- FOOTER CONTAINER -->
	<div class="footer"></div>
</body>
</html>